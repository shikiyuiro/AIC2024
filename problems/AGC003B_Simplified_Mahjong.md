<!--
author: ISHIKAWA Yuichiro
-->
## [AGC003B Simplified mahjong](https://atcoder.jp/contests/agc003/tasks/agc003_b)

<details><summary> ヒント1 </summary>

$i$ の書かれたカードと $i+1$ の書かれたカードによって作られるペアの数はたかだか1枚ずつとしてよいです。  
実際、$i$ の書かれたカードと $i+1$ の書かれたカードによって作られるペアの数が$x$組である最適解が存在するとき、 $x\ge2$ ならば $i$ の書かれたカード同士、 $i+1$ の書かれたカード同士でペアにすることで、最適性を損なわずに $x$ の値を $2$ 減らすことができます。

</details>

<details><summary> 解説 </summary>

ヒント1で示された性質から、実はカードを小さい方から貪欲にペアにしていってよいことがわかります。なぜなら、ある最適解で余ったカード $A$ をどれかとペアにしたいとき、すでにカード $B$ と組んでいるカード $C$ とペアにしても、ペアの総数はペア $(A,C)$ の成立より $1$ 足され、ペア $(B,C)$ の不成立により $1$ 引かれ、合わせてプラマイゼロであるため、最適解の最適性に影響がないためです。(一般的に、貪欲法が適用できることの証明は、「貪欲に選んでも最終的に損をしないこと」を示すことがセオリーです。)

したがって、求める答えは、$A_{i} = 0$ なる $i$ が存在しなければ $A_{i}$ の総和を $2$ で割った値(切り捨て)であり、 $A_{i} = 0$ なる $i$ が存在するならば、$A_{i} = 0$ である $i$ を含まない連続成分に切り分けて、上と同様の手続きにより求めればよいです。

</details>
